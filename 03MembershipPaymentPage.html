<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>HypeCatAI ‚Äî Membership & Billing</title>
<style>
  :root{
    /* Palette derived from the provided Settings screenshot */
    --bg: #F6F7FA;
    --surface: #FFFFFF;
    --ink: #0F172A;
    --muted: #6B7280;
    --line: #E5E7EB;
    --accent: #FF8A00;       /* brand orange */
    --accent-600:#E87700;
    --accent-100:#FFF3E0;
    --ok:#16A34A;
    --warn:#DC2626;
    --shadow: 0 10px 24px rgba(15,23,42,0.06);
    --radius: 14px;
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    color:var(--ink);
    background:var(--bg);
    line-height:1.4;
  }
  a{color:inherit;text-decoration:none}
  .app{
    display:grid;
    grid-template-columns: 260px 1fr;
    min-height:100svh;
  }

  /* Sidebar */
  .sidebar{
    background:#fff;
    border-right:1px solid var(--line);
    padding:22px 18px;
  }
  .brand{
    display:flex;align-items:center;gap:10px;
    font-weight:800;font-size:22px;letter-spacing:.2px;
    margin-bottom:22px;
  }
  .brand .cat{color:var(--accent)}
  .nav{
    display:flex;flex-direction:column;gap:6px;
    margin-top:8px;
  }
  .nav a{
    display:flex;align-items:center;gap:10px;
    padding:12px 10px;border-radius:12px;color:#111827;
  }
  .nav a svg{width:18px;height:18px;stroke:var(--muted)}
  .nav a.active{
    background:var(--accent-100);
    color:#111827;
  }
  .nav a.active svg{stroke:var(--accent)}
  .sidebar .lang{
    position:fixed;left:18px;bottom:18px;
    font-size:13px;color:var(--muted);
    display:flex;align-items:center;gap:6px;
  }

  /* Main */
  .main{
    padding:32px 36px 48px;
  }
  .headerRow{
    display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:18px;
  }
  h1{
    font-size:28px;margin:0;font-weight:800;
  }
  .status-pill{
    background:#EEF2FF;
    color:#1E40AF;
    border:1px solid #CBD5E1;
    padding:8px 12px;border-radius:999px;font-size:13px;font-weight:600;
  }

  .banner{
    background:#FFF7ED;
    border:1px solid #FED7AA;
    color:#7C2D12;
    padding:12px 14px;border-radius:12px;margin:10px 0 22px;
    display:flex;align-items:center;gap:10px;
  }
  .container{
    max-width:1080px;margin:0 auto;
  }
  .card{
    background:var(--surface);
    border:1px solid var(--line);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
  }

  /* Stepper */
  .stepper{
    display:grid;grid-template-columns:repeat(3,1fr);
    gap:8px;padding:16px 18px;border-bottom:1px solid var(--line);
  }
  .step{
    display:flex;align-items:center;gap:10px;
    font-weight:600;color:var(--muted);
  }
  .step .dot{
    width:26px;height:26px;border-radius:50%;
    border:2px solid var(--line);
    display:grid;place-items:center;font-size:12px;background:#fff;
  }
  .step.active{color:#111827}
  .step.active .dot{border-color:var(--accent);background:var(--accent-100);color:#111827}
  .step.done{color:#111827}
  .step.done .dot{background:var(--accent);border-color:var(--accent);color:#fff}

  /* Step content */
  .content{padding:22px}
  .grid{
    display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px;
  }

  /* Plan cards */
  .plan{
    border:1.5px solid var(--line);border-radius:16px;padding:18px;background:#fff;
    display:flex;flex-direction:column;gap:10px;transition:all .2s ease;
    cursor:pointer; position:relative;
  }
  .plan:hover{box-shadow:0 8px 18px rgba(0,0,0,.06);transform:translateY(-1px)}
  .plan.selected{border-color:var(--accent);box-shadow:0 10px 22px rgba(255,138,0,.16)}
  .plan .tag{font-size:11px;background:#F1F5F9;border:1px solid #E2E8F0;padding:4px 8px;border-radius:999px;color:#475569;font-weight:700}
  .plan .price{font-size:28px;font-weight:800}
  .plan .price small{font-size:13px;font-weight:600;color:var(--muted)}
  .plan ul{margin:8px 0 0 18px; padding:0;color:#374151;font-size:14px}
  .check{
    position:absolute;top:12px;right:12px;width:24px;height:24px;border-radius:50%;
    border:2px solid var(--line);display:grid;place-items:center;background:#fff;color:#fff;font-size:14px;
  }
  .plan.selected .check{background:var(--accent);border-color:var(--accent)}

  .actions{
    display:flex;justify-content:flex-end;gap:12px;margin-top:18px;
  }
  .btn{
    appearance:none;border:1px solid var(--line);background:#fff;color:#111827;
    padding:12px 16px;border-radius:12px;font-weight:700;cursor:pointer;
    transition:transform .06s ease, background .2s ease, border .2s ease, opacity .2s;
  }
  .btn:active{transform:translateY(1px)}
  .btn[disabled]{opacity:.5;cursor:not-allowed}
  .btn.primary{
    background:var(--accent);border-color:var(--accent);color:#fff;
  }
  .btn.primary:hover{background:var(--accent-600);border-color:var(--accent-600)}

  /* Step 2 layout */
  .flex{
    display:flex;gap:20px;align-items:flex-start;flex-wrap:wrap;
  }
  .payform,.summary{flex:1 1 380px}
  .field{
    display:flex;flex-direction:column;gap:8px;margin-bottom:14px;
  }
  .label{font-weight:600;color:#111827}
  .input{
    border:1.5px solid var(--line);border-radius:12px;padding:12px 12px;font-size:15px;background:#fff;
    outline:none;transition:border .15s ease, box-shadow .15s ease;
  }
  .input:focus{border-color:var(--accent);box-shadow:0 0 0 4px rgba(255,138,0,.15)}
  .row{display:flex;gap:10px}
  .error{color:var(--warn);font-size:13px;display:none}
  .show{display:block}

  .summary .sumcard{
    border:1.5px solid var(--line);border-radius:16px;padding:18px;background:#fff;
  }
  .sumline{display:flex;justify-content:space-between;margin:8px 0}
  .sumtotal{font-weight:800;font-size:20px}

  /* Success */
  .success{
    text-align:center;padding:34px 20px 40px;
  }
  .checkmark{
    width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg, var(--accent), #FFB648);
    display:grid;place-items:center;color:#fff;font-size:36px;margin:0 auto 16px;box-shadow:0 10px 30px rgba(255,138,0,.35);
  }
  .muted{color:var(--muted)}

  /* Responsive: stack sidebar on small screens */
  @media (max-width: 980px){
    .app{grid-template-columns:1fr}
    .sidebar{position:sticky;top:0;z-index:30}
    .nav{flex-direction:row;flex-wrap:wrap}
    .nav a{padding:10px 12px}
    .brand{margin-bottom:10px}
  }

</style>
</head>
<body>
<div class="app">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="brand">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M4 12c0-4 3-7 8-7s8 3 8 7-3 7-8 7-8-3-8-7Z" stroke="currentColor" stroke-width="2" />
        <circle cx="12" cy="12" r="3" fill="currentColor" style="color:var(--accent)"/>
      </svg>
      <span><span class="cat">HypeCat</span>AI</span>
    </div>
    <nav class="nav">
      <a href="#" aria-label="Content Creation">
        <svg viewBox="0 0 24 24" fill="none"><path d="M4 7h16M4 12h10M4 17h7" stroke-width="2" stroke-linecap="round"/></svg> Content Creation
      </a>
      <a href="#" aria-label="Content Calendar">
        <svg viewBox="0 0 24 24" fill="none"><path d="M7 3v4M17 3v4M4 9h16M5 12h4M11 12h4M17 12h2" stroke-width="2" stroke-linecap="round"/></svg> Content Calendar
      </a>
      <a href="#" aria-label="Publishing">
        <svg viewBox="0 0 24 24" fill="none"><path d="M4 19V5a2 2 0 0 1 2-2h9l5 5v11a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2Z" stroke-width="2"/><path d="M14 3v4h4" stroke-width="2"/></svg> Publishing
      </a>
      <a href="#" aria-label="Analytics">
        <svg viewBox="0 0 24 24" fill="none"><path d="M4 19h16M7 16V8M12 16V5M17 16v-6" stroke-width="2" stroke-linecap="round"/></svg> Analytics
      </a>
      <a class="active" href="#" aria-current="page">
        <svg viewBox="0 0 24 24" fill="none"><path d="M12 3v3M12 18v3M3 12h3M18 12h3M5 5l2 2M17 17l2 2M19 5l-2 2M7 17l-2 2" stroke-width="2" stroke-linecap="round"/></svg> Settings
      </a>
    </nav>
    <div class="lang">üåê English</div>
  </aside>

  <!-- Main -->
  <main class="main">
    <div class="container">
      <div class="headerRow">
        <h1>Membership &amp; Billing</h1>
        <div class="status-pill" id="statusPill" aria-live="polite">Current plan: Free</div>
      </div>

      <div class="banner" id="quotaBanner" role="status" aria-live="polite">
        <strong>Heads up:</strong> You‚Äôve used 100% of your free credits. Upgrade to continue creating content without limits.
      </div>

      <section class="card" aria-label="Membership top-up flow">

        <!-- Stepper -->
        <div class="stepper" id="stepper" role="tablist" aria-label="Steps">
          <div class="step active" data-step="1" role="tab" aria-selected="true">
            <div class="dot">1</div> Select a plan
          </div>
          <div class="step" data-step="2" role="tab" aria-selected="false">
            <div class="dot">2</div> Payment details
          </div>
          <div class="step" data-step="3" role="tab" aria-selected="false">
            <div class="dot">3</div> Confirmation
          </div>
        </div>

        <!-- Step 1 -->
        <div class="content" id="step1" role="region" aria-labelledby="SelectPlan">
          <h2 id="SelectPlan" style="margin:0 0 8px;font-size:20px;">Step 1 ¬∑ Choose the plan that fits</h2>
          <p class="muted" style="margin:0 0 14px;">Change anytime. No hidden fees.</p>

          <div class="grid" id="planGrid">
            <!-- Free -->
            <article class="plan" data-plan="Free" data-price="0" tabindex="0" aria-pressed="false">
              <div class="check">‚úì</div>
              <div class="tag">Starter</div>
              <div class="price">$0 <small>/ month</small></div>
              <ul>
                <li>Up to 5 contents / month</li>
                <li>Basic templates</li>
                <li>Community support</li>
              </ul>
            </article>
            <!-- Plus -->
            <article class="plan" data-plan="Plus" data-price="9.9" tabindex="0" aria-pressed="false">
              <div class="check">‚úì</div>
              <div class="tag" style="background:#FEF3C7;border-color:#FDE68A;color:#92400E;">Most popular</div>
              <div class="price">$9.9 <small>/ month</small></div>
              <ul>
                <li>Up to 100 contents / month</li>
                <li>Scheduling & Publishing</li>
                <li>Email support</li>
              </ul>
            </article>
            <!-- Pro -->
            <article class="plan" data-plan="Pro" data-price="19.9" tabindex="0" aria-pressed="false">
              <div class="check">‚úì</div>
              <div class="tag">For teams</div>
              <div class="price">$19.9 <small>/ month</small></div>
              <ul>
                <li>1,000+ contents / month</li>
                <li>Advanced analytics</li>
                <li>Priority support</li>
              </ul>
            </article>
          </div>

          <div class="actions">
            <button class="btn" id="cancel1" onclick="resetFlow()">Cancel</button>
            <button class="btn primary" id="continue1" disabled>Continue</button>
          </div>
        </div>

        <!-- Step 2 -->
        <div class="content" id="step2" style="display:none" role="region" aria-labelledby="PaymentDetails">
          <h2 id="PaymentDetails" style="margin:0 0 8px;font-size:20px;">Step 2 ¬∑ Payment details</h2>
          <p id="freeHint" class="muted" style="display:none;margin:0 0 14px;">
            The Free plan doesn‚Äôt require payment. Click ‚ÄúActivate Free‚Äù to continue.
          </p>

          <div class="flex">
            <!-- Payment form (Stripe-like simulation) -->
            <form class="payform" id="payform" novalidate>
              <div class="field">
                <label class="label" for="fullName">Full name</label>
                <input class="input" id="fullName" name="fullName" placeholder="Jane Doe" autocomplete="cc-name" />
                <small class="error" id="errName">Please enter your full name.</small>
              </div>
              <div class="field">
                <label class="label" for="email">Email</label>
                <input class="input" id="email" name="email" type="email" placeholder="jane@company.com" autocomplete="email" />
                <small class="error" id="errEmail">Please enter a valid email.</small>
              </div>

              <!-- Stripe-ish grouped card fields -->
              <div class="field">
                <label class="label" for="card">Card number</label>
                <input class="input" id="card" name="card" placeholder="4242 4242 4242 4242" inputmode="numeric" autocomplete="cc-number" maxlength="19" />
                <small class="error" id="errCard">Enter a valid 16-digit card number.</small>
              </div>
              <div class="row">
                <div class="field" style="flex:1">
                  <label class="label" for="exp">Expiry</label>
                  <input class="input" id="exp" name="exp" placeholder="MM/YY" inputmode="numeric" autocomplete="cc-exp" maxlength="5" />
                  <small class="error" id="errExp">Use MM/YY.</small>
                </div>
                <div class="field" style="flex:1">
                  <label class="label" for="cvc">CVC</label>
                  <input class="input" id="cvc" name="cvc" placeholder="CVC" inputmode="numeric" autocomplete="cc-csc" maxlength="4" />
                  <small class="error" id="errCvc">3‚Äì4 digits.</small>
                </div>
              </div>
              <div class="field">
                <label class="label" for="country">Country/Region</label>
                <select id="country" class="input" name="country" autocomplete="country">
                  <option value="">Select country</option>
                  <option>Canada</option>
                  <option>United States</option>
                  <option>United Kingdom</option>
                  <option>Germany</option>
                  <option>Australia</option>
                </select>
                <small class="error" id="errCountry">Please select your country.</small>
              </div>
              <div class="field" style="margin-top:4px">
                <label style="display:flex;align-items:center;gap:10px;font-size:14px;color:#374151">
                  <input type="checkbox" id="agree" /> I agree to the billing terms &amp; privacy policy.
                </label>
                <small class="error" id="errAgree">Please accept the terms to continue.</small>
              </div>
            </form>

            <!-- Order summary -->
            <aside class="summary">
              <div class="sumcard" id="sumcard">
                <div style="display:flex;align-items:center;justify-content:space-between;gap:10px">
                  <div>
                    <div style="font-size:16px;font-weight:800">Selected plan</div>
                    <div class="muted" id="sumPlan">‚Äî</div>
                  </div>
                  <div class="tag" id="planTag">Monthly</div>
                </div>
                <hr style="border:none;border-top:1px solid var(--line);margin:14px 0">
                <div class="sumline"><span>Subtotal</span><span id="sumSub">$0.00</span></div>
                <div class="sumline"><span>Est. tax</span><span id="sumTax">$0.00</span></div>
                <hr style="border:none;border-top:1px solid var(--line);margin:14px 0">
                <div class="sumline sumtotal"><span>Total due today</span><span id="sumTotal">$0.00</span></div>
                <p class="muted" style="font-size:12px;margin-top:10px">
                  Secured by Stripe ¬∑ Cancel anytime from Settings.
                </p>
              </div>
            </aside>
          </div>

          <div class="actions">
            <button class="btn" id="back2">Back</button>
            <button class="btn primary" id="payBtn" disabled>Pay</button>
          </div>
        </div>

        <!-- Step 3 -->
        <div class="content" id="step3" style="display:none" role="region" aria-labelledby="Confirm">
          <div class="success">
            <div class="checkmark">‚úì</div>
            <h2 id="Confirm" style="margin:0 0 8px;font-size:24px">Payment successful</h2>
            <p class="muted" id="successCopy">Your membership has been updated.</p>
            <div class="actions" style="justify-content:center;margin-top:18px">
              <button class="btn" onclick="resetFlow()">Return to dashboard</button>
              <button class="btn primary" onclick="manageSubscription()">Manage subscription</button>
            </div>
          </div>
        </div>

      </section>
    </div>
  </main>
</div>

<script>
  // State
  const state = {
    step: 1,
    plan: null,        // 'Free' | 'Plus' | 'Pro'
    price: 0,          // number
    taxRate: 0.13      // sample HST for CA
  };

  // Elements
  const stepper = document.getElementById('stepper');
  const steps = [...stepper.querySelectorAll('.step')];
  const stepPanels = [1,2,3].map(n => document.getElementById('step'+n));
  const continue1 = document.getElementById('continue1');
  const payBtn = document.getElementById('payBtn');
  const back2 = document.getElementById('back2');
  const freeHint = document.getElementById('freeHint');
  const sumPlan = document.getElementById('sumPlan');
  const sumSub = document.getElementById('sumSub');
  const sumTax = document.getElementById('sumTax');
  const sumTotal = document.getElementById('sumTotal');
  const statusPill = document.getElementById('statusPill');
  const successCopy = document.getElementById('successCopy');
  const planGrid = document.getElementById('planGrid');
  const quotaBanner = document.getElementById('quotaBanner');
  const payform = document.getElementById('payform');

  // Utilities
  const fmt = n => `$${n.toFixed(2)}`;
  const goStep = (n)=>{
    state.step = n;
    steps.forEach((el,i)=>{
      el.classList.toggle('active', i===n-1);
      el.classList.toggle('done', i < n-1);
      el.setAttribute('aria-selected', i===n-1 ? 'true':'false');
    });
    stepPanels.forEach((p,i)=> p.style.display = (i===n-1)? 'block':'none' );
  };

  // Plan selection
  planGrid.addEventListener('click', (e)=>{
    const card = e.target.closest('.plan');
    if(!card) return;
    selectPlan(card);
  });
  planGrid.addEventListener('keydown', (e)=>{
    if(e.key === 'Enter' || e.key === ' '){
      const card = e.target.closest('.plan');
      if(card){ e.preventDefault(); selectPlan(card); }
    }
  });

  function selectPlan(card){
    [...planGrid.querySelectorAll('.plan')].forEach(p=>{
      p.classList.remove('selected'); p.setAttribute('aria-pressed','false');
    });
    card.classList.add('selected'); card.setAttribute('aria-pressed','true');
    state.plan = card.dataset.plan;
    state.price = Number(card.dataset.price);
    continue1.disabled = false;
  }

  // Continue from step 1
  continue1.addEventListener('click', ()=>{
    updateSummary();
    configurePaymentStep();
    goStep(2);
  });

  function configurePaymentStep(){
    const isFree = state.plan === 'Free';
    freeHint.style.display = isFree ? 'block' : 'none';
    // Enable/disable form fields for Free
    [...payform.querySelectorAll('input,select')].forEach(el=>{
      if(el.id==='agree'){ // still require agree toggle to demonstrate flow
        el.disabled = false;
      }else{
        el.disabled = isFree;
      }
    });
    payBtn.textContent = isFree ? 'Activate Free' : `Pay ${fmt(totalDue())}`;
    payBtn.disabled = isFree ? !document.getElementById('agree').checked : true;
    if(isFree){
      hideErrors();
    }
  }

  // Back
  back2.addEventListener('click', ()=> goStep(1));

  // Form validation (very lightweight demo)
  function validate(){
    let ok = true;
    const name = v('fullName').trim();
    const email = v('email').trim();
    const card = v('card').replaceAll(' ','');
    const exp = v('exp').trim();
    const cvc = v('cvc').trim();
    const country = v('country');
    const agree = document.getElementById('agree').checked;

    // Name
    show('errName', !(name.length>1 && name.includes(' ')) );
    ok &= name.length>1 && name.includes(' ');

    // Email rough check
    const emailOk = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    show('errEmail', !emailOk); ok &= emailOk;

    // Card: 16 digits for demo
    const cardOk = /^\d{16}$/.test(card);
    show('errCard', !cardOk); ok &= cardOk;

    // Exp MM/YY
    const expOk = /^(0[1-9]|1[0-2])\/\d{2}$/.test(exp);
    show('errExp', !expOk); ok &= expOk;

    // CVC 3-4
    const cvcOk = /^\d{3,4}$/.test(cvc);
    show('errCvc', !cvcOk); ok &= cvcOk;

    const countryOk = country !== '';
    show('errCountry', !countryOk); ok &= countryOk;

    show('errAgree', !agree); ok &= agree;

    return !!ok;
  }
  function v(id){ return document.getElementById(id).value || '' }
  function show(id, isError){ document.getElementById(id).classList.toggle('show', isError) }
  function hideErrors(){ [...document.querySelectorAll('.error')].forEach(e=>e.classList.remove('show')) }

  // Enable Pay button as user types
  payform.addEventListener('input', ()=>{
    if(state.plan==='Free'){
      payBtn.disabled = !document.getElementById('agree').checked;
      return;
    }
    payBtn.disabled = !roughReady();
  });
  function roughReady(){
    // minimal readiness (not full validation to reduce friction)
    return v('fullName').length>3 && /@/.test(v('email')) && v('card').replaceAll(' ','').length>=16 && v('exp').length>=4 && v('cvc').length>=3 && v('country')!=='' && document.getElementById('agree').checked;
  }

  // Format card number #### #### #### ####
  const cardInput = document.getElementById('card');
  cardInput.addEventListener('input', (e)=>{
    let val = e.target.value.replace(/[^\d]/g,'').slice(0,16);
    e.target.value = val.replace(/(\d{4})(?=\d)/g,"$1 ").trim();
  });
  // Format exp MM/YY
  const expInput = document.getElementById('exp');
  expInput.addEventListener('input', (e)=>{
    let val = e.target.value.replace(/[^\d]/g,'').slice(0,4);
    if(val.length >=3) val = val.slice(0,2) + '/' + val.slice(2);
    e.target.value = val;
  });

  // Pay
  payBtn.addEventListener('click', ()=>{
    if(state.plan !== 'Free' && !validate()) return;
    payBtn.disabled = true; payBtn.textContent = 'Processing‚Ä¶';
    setTimeout(()=>{
      // "Stripe verified": update status + success screen
      const plan = state.plan;
      statusPill.textContent = `Current plan: ${plan}`;
      quotaBanner.style.display = plan==='Free' ? 'block':'none';
      successCopy.textContent = plan==='Free' ? 'Your Free plan is active.' : `You‚Äôre now on ${plan}. Your payment was successful.`;
      goStep(3);
      // reset button text for future
      payBtn.textContent = 'Pay';
    }, 1000);
  });

  // Update summary totals
  function updateSummary(){
    sumPlan.textContent = `${state.plan} ¬∑ Billed monthly`;
    const subtotal = state.price;
    const tax = state.plan==='Free' ? 0 : subtotal * state.taxRate;
    sumSub.textContent = fmt(subtotal);
    sumTax.textContent = fmt(tax);
    sumTotal.textContent = fmt(subtotal + tax);
  }
  function totalDue(){ return state.price + (state.plan==='Free'?0: state.price*state.taxRate) }

  // Helpers
  function resetFlow(){
    // clear selection
    [...planGrid.querySelectorAll('.plan')].forEach(p=>{ p.classList.remove('selected'); p.setAttribute('aria-pressed','false') });
    state.plan=null; state.price=0; continue1.disabled=true;
    // clear form
    payform.reset(); hideErrors(); document.getElementById('agree').checked=false;
    payBtn.disabled=true;
    // go step 1
    goStep(1);
  }
  function manageSubscription(){
    alert('This prototype keeps everything on one page.\nIn production, open your ‚ÄúManage subscription‚Äù modal or route.');
  }

  // Initialize
  goStep(1);
</script>
</body>
</html>
